
<div class="columns">
    <section class="column is-half">
        <h1 class="is-size-3">Update Album</h1>
        <!-- search by album name? -->
        <!-- need to change the way we do genre/artist -->
        <!-- should have separate forms that delete artists/genres or add artists/genres -->
        <!-- but ensure that there is at least 1 of each -->
        <p id="album-error" class="has-text-danger"></p>
        <form class="flex flex-row" id="search-album">
                <div class="field">
                    <label class="label" for="album-name">Album name:</label>
                    <input class="input" type="text" id="album-name" name="album-name"><br>
                </div>
                <div class="field">
                    <label class="label" for="album-id">Album ID:</label>
                    <input class="input" type="text" id="album-id" name="album-id"><br>
                </div>
            <button class="button is-link">Search</button>
        </form>
        <form id="update-album">
            <input type="text" class="is-hidden" name="album-id" id="album-id" >
            <div class="field">
                <label class="label" for="album-name">Album name:</label>
                <div class="control">
                    <input class="input" type="text" id="update-album-name" name="album-name">
                </div>
            </div>
            <div class="field">
                <label class="label" for="artist-name">Artist name:</label>
                <div class="control" id="add-artists">
                    <select name="artist-name" id="update-artist-name">
                        {% for artist in artists %}
                            <option value={{ artist[0] }}>{{artist[1]}}</option>
                        {% endfor %}
                    </select>
                </div>
                <span id="add-artist">+</span>
                <span id="delete-artist" class="is-hidden">-</span>
            </div>
            <div class="field">
                <label class="label" for="price">Price:</label>
                <div class="control">
                    <input class="input" type="number" id="price" name="price">
                </div>
            </div>            
            <!-- select genre, use genre table to get id so that the value of the option is the id of the genre-->
            <div class="field">
                <label class="genre" for="genre">Genre:</label>
                <div class="control" id="album-genres" >
                    <select class="select" id="update-album-genre" name="update-album-genre">
                        {% for genre in genres %}
                            <option value={{ genre[0] }}>{{ genre[1] }}</option>
                        {% endfor %}
                    </select>
                </div>
                <span id="add-genre">+</span>
                <span id="delete-genre" class="is-hidden">-</span>
            </div>
            <div class="field">
                <label class="label" for="releasedYear">Year Released:</label>
                <div class="control">
                    <input class="input" type="number" id="year" name="year">
                </div>
            </div>    
            <div class="field">
                <label class="label" for="copies">Copies In Stock:</label>
                <div class="control">
                    <input class="input" type="number" id="copies" name="copies">
                </div>
            </div>  
            <button class="button is-primary">Update Album</button>
        </form>
    </section>
    <section class="column is-half mt-4">
        <p id="genre-error" class="has-text-danger"></p>
        <h1>Update Genre</h1>
        <form id="update-genre">
            <div class="field">
                <label class="label">Old Genre Name</label>
                <div class="control">
                    <input type="text" id="old-genre" name="old_genre" class="input" required />
                </div>
            </div>
            <div class="field">
                <label class="label">New Genre Name</label>
                <div class="control">
                    <input type="text" id="new-genre" name="new_genre" class="input" required />
                </div>
            </div>
            <button class="button is-primary">Update Genre</button>
        </form>
    </section>
</div>

<div class="columns">
    <section class="column is-half">
        <p id="search-artist-error" class="has-text-danger"></p>
        <h1 class="is-size-3">Update Artist</h1>
        <form class="mb-3" id="search-update-artist">
            <label class="label">Search Artist</label>
            <input type="text" class="input mb-2" name="artist_name" placeholder="search" id="search-artist"/>
            <button class="button is-link">Search</button>
        </form>
        <form id="update-artist">
            <div class="field">
                <label class="label" for="artist_name">Name: </label>
                <input class="is-hidden" type="text" name="update-artist-id" id="update-artist-id" />
                <div class="control">
                    <input class="input" type="text" id="update-artist-artist-name" name="artist_name" list="artist-list" placeholder="artist name" />
                    <datalist id="artist-list">
                        {% for artist in artists %}
                        <option value="{{artist[1]}}">{{artist[1]}}</option>    
                        {% endfor %}
                </div>
            </div>
            <div class="field">
                <label class="label">Genre</label>
                <div class="control" id="artist-genres">
                    <select class="select" id="new-artist-genre" name="album-genre">
                        {% for genre in genres %}
                            <option value={{ genre[0] }}>{{ genre[1] }}</option>
                        {% endfor %}
                    </select>
                </div>
                <span id="add-genre-to-artist">+</span>
                <span id="remove-genre-from-artist" class="is-hidden">-</span>
            </div>
            <button class="button is-primary">Update Artist</button>
        </form>
    </section>

    <section class="column is-half mt-4">
        <h1 class="is-size-3">Add Track</h1>
        <form>
            <div class="field">
                <label class="label" for="track-name">Track</label>
                <div class="control">
                    <input class="input" type="text" name="track-name" placeholder="track name" />
                </div>
            </div>
            <div class="field">
                <label class="label" for="track-length">Length</label>
                <div class="control">
                    <input class="input" type="number" name="track-length" placeholder="track length" />
                </div>
            </div>
            <div class="field">
                <label class="label" for="track-name">Album Name</label>
                <div class="control">
                    <input class="input" type="text" name="album-name" placeholder="album name" />
                </div>
            </div>
            <button class="button is-primary">Add Track</button>
        </form>
    </section>
</div>
<script src={{ url_for("static", filename="scripts/update.js")}} />